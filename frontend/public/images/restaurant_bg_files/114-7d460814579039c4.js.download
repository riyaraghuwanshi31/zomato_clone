"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[114],{2675:function(e,t,l){l.d(t,{W:function(){return s}});let s=async()=>{let e={csrf:""};try{let t=await fetch("https://www.zomato.com/webroutes/auth/csrf");e=await t.json()}catch(e){}return window.csrft=e.csrf||"",e.csrf&&(window.csrf_set_time=new Date().valueOf()),e.csrf}},9823:function(e,t,l){l.d(t,{Tj:function(){return a},cK:function(){return n}});var s=l(3591);let n=async e=>{let{data:t}=await (0,s.W)("getServiceTypes",{headers:{"x-zomato-csrft":window.csrft,"x-client-id":"zomato_web_merchant"},retryStrategy:{retries:0},query:{viewType:e}});return t},a=async()=>{let{data:e}=await (0,s.W)("getConfigs",{headers:{"x-zomato-csrft":window.csrft,"x-client-id":"zomato_web_merchant"}});return e}},2015:function(e,t,l){l.d(t,{Z:function(){return i}});var s=l(7437);l(2265);var n=l(5020),a=l(7166),r=e=>{let{className:t="",children:l,onClose:r=()=>{}}=e,i=(0,n.Z)(r);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"fixed inset-0 z-10 bg-zCoal opacity-80"}),(0,s.jsx)("section",{ref:i,className:(0,a.cn)("no-scrollbar fixed bottom-0 left-0 right-0 z-10 max-h-[85vh] w-full transform animate-open-bottomSheet overflow-y-scroll rounded-t-xl border-l border-zGray-200 bg-white shadow-[-10px_20px_34px_0px_rgba(0,0,0,0.25)] motion-reduce:!translate-y-0 sm:mx-auto sm:w-[390px]",t),children:l})]})},i=e=>{let{isOpen:t,...l}=e;return t?(0,s.jsx)(r,{...l}):null}},8503:function(e,t,l){var s=l(7437),n=l(2265),a=l(9656),r=l(7166);t.Z=e=>{let{searchString:t,setSearchString:l,placeholder:i=""}=e,[o,d]=(0,n.useState)(!1),c=(0,n.useRef)(null);return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("input",{ref:c,type:"text",onChange:e=>{if(l(e.target.value),""===e.target.value)return},placeholder:i||"Search",value:t,className:(0,r.cn)("w-full rounded-xl border border-gray-200 py-[14px] pl-10 text-sm font-normal text-gray-900 shadow-inputBox focus:outline-none sm:text-base ".concat(o&&"rounded-b-none"))}),(0,s.jsx)("label",{className:"absolute left-4 top-[12px] h-full font-normal",children:(0,s.jsx)(a.Z,{unicode:"E9F3",customClassName:"text-[18px] text-blue-500"})}),t?(0,s.jsx)("div",{className:"absolute right-4 top-[10px]",onClick:()=>l(""),children:(0,s.jsx)(a.Z,{unicode:"E8A4",customClassName:"text-[10px]"})}):null]})}},3540:function(e,t,l){l.d(t,{_:function(){return n}});var s=l(793);let n=e=>{let t=[],l="";for(let n=0;n<e.length;n++){let a=n+1;for(let a of Object.keys(s.kK)){let r=s.kK[a],i=r.length;if(e.substring(n,n+i)===r){l.length>0&&(t.push({text:l,type:s.x1.NORMAL}),l=""),n+=i;let o="";for(;n<e.length&&e.substring(n,n+i)!==r;)o+=e[n],n++;if("ANCHOR"===a){let[e,l]=o.split("<");t.push({text:e.trim(),type:s.sI[r],url:l.replace(">","")})}else t.push({text:o,type:s.sI[r]});n+=i-1;break}}n+1===a&&(l+=e[n])}return l.length&&t.push({text:l,type:s.x1.NORMAL}),t}},2984:function(e,t,l){var s=l(7437),n=l(3540),a=l(793),r=l(7166);t.Z=e=>{let{message:t,className:l}=e,i=(0,n._)(t);return(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("span",{className:(0,r.cn)("inline items-center text-xs font-normal leading-4",l),children:i.map((e,t)=>{let{text:l,type:n,url:r}=e;switch(n){case a.x1.STRIKE_THROUGH:return(0,s.jsx)("s",{className:"text-zCoolGray-500",children:l},t);case a.x1.BOLD:return(0,s.jsx)("b",{children:l},t);case a.x1.REPLACE:return(0,s.jsx)("a",{style:{color:"#256FEF"},target:"_blank",href:r,children:l},t);case a.x1.ANCHOR:return(0,s.jsx)("a",{href:r,target:"_blank",rel:"noreferrer noopener",className:"text-zBlue-500 underline",children:l},t);case a.x1.TEL:return(0,s.jsx)("a",{href:"tel:".concat(l),className:"text-zBlue-500 underline",children:l},t);default:return(0,s.jsx)("span",{children:l},t)}})})})}},9544:function(e,t,l){l.d(t,{Z:function(){return x}});var s=l(2675),n=l(2758),a=l(7762);l(9823);var r=l(3093),i={auth:(0,l(1859).Z)({client_id:"2c4e3ed9-0308-4d16-a237-3a5c99f7e944",scope:"offline",redirect_url:"",enable_one_tap:!1,logout_url:"",login_methods:["google","email","phone"],custom:!1})},o=l(3591),d=l(3407),c=l(3555),x=()=>{let e=(0,n.Z)(e=>e.userData),t=(0,n.Z)(e=>e.setUserLoggedIn),l=(0,n.Z)(e=>e.setUserLoggedOut),x=(0,n.Z)(e=>e.setUserLoginLoading),u=(0,n.Z)(e=>e.isUserLoggedIn),m=(0,n.Z)(e=>e.userLoginLoading),h=(0,a.Z)(e=>e.setShowWebDashboard),f=()=>{x(),(0,o.W)("checkAuth",{retryStrategy:{maxRetries:0}}).then(e=>{var l,s;let n=null!==(l=null==e?void 0:e.data)&&void 0!==l?l:{};t({...n,isUserZoman:n.is_user_zoman}),h(null!==(s=null==n?void 0:n.show_onboarding_dashboard_v2)&&void 0!==s&&s),c.ZP.setParams(null==n?void 0:n.user_id)}).catch(e=>{l(),c.ZP.setParams()})};return{userData:e,isUserLoggedIn:u,fetchCSRF:()=>{(0,s.W)().then(e=>{let t=(0,r.Z)(e,"data.csrf","");window.csrft=t})},checkAuth:f,onLogoutClick:()=>{i.auth.logout().then(()=>{d.Am.success("Logged out successfully",{autoClose:3e3,closeOnClick:!0}),l(),window.location.reload(),c.ZP.setParams()}).catch(e=>{d.Am.error(null!=e?e:"Error")})},handleLoginClick:function(){let{successCallBack:e=()=>void 0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.auth.login("IFRAME","login_ui").then(()=>{e(),d.Am.success("Logged in successfully",{autoClose:3e3,closeOnClick:!0}),window.location.reload(),f()})},userLoginLoading:m}}},7114:function(e,t,l){l.r(t),l.d(t,{default:function(){return B}});var s=l(7437),n=l(3407),a=l(9380),r=l(2265),i=l(4753),o=l(7166),d=l(9656),c=l(978),x=l(703),u=l(737),m=l(9484),h=l(4047),f=l(7961),p=l(7907),v=l(8503),g=l(8792),b=l(7762),j=e=>{let{shouldShowDiningToDeliveryTile:t=!1,resId:l=""}=e,{setOpenDiningToDeliveryModal:n}=(0,b.Z)(e=>({setOpenDiningToDeliveryModal:e.setOpenDiningToDeliveryModal}));return(0,s.jsx)("div",{className:"flex flex-col gap-6 pt-2",children:t&&(0,s.jsx)("div",{className:"select-none rounded-xl border border-lavenderMist bg-gradient-to-r from-[#F5D8B700] via-white to-[#FFEAE2] p-3 shadow-[0px_1px_4px_0px_#1C1C1C0F]",children:(0,s.jsxs)("div",{className:"flex justify-between gap-1",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,s.jsxs)("div",{className:"flex flex-col justify-between gap-1",children:[(0,s.jsx)("div",{className:"text-sm font-semibold leading-5 text-zCoal",children:i.XP}),(0,s.jsx)("div",{className:"text-xs font-normal leading-4 text-zCoolGray-600",children:i.OK})]}),(0,s.jsxs)(c.Z,{className:"w-fit select-none px-3 py-2",onClick:()=>n({value:!0,metadata:{resId:l}}),children:[i.mZ,(0,s.jsx)(d.Z,{unicode:"E875"})]})]}),(0,s.jsx)(x.default,{className:"h-max",src:"https://b.zmtcdn.com/data/o2_assets/c97bfaed2a902b3bb11a7d117096d9411720609023.png",width:100,height:24,alt:"packaging-icon"})]})})})},N=l(8007),y=l(8894),w=l(2984),C=l(7499),_=l(8612),z=e=>{let{restaurantsData:t,isDataLoading:l=!1}=e,n=(0,p.useRouter)(),{setShowClaimOwnershipBackButton:a,configs:x}=(0,b.Z)(e=>({setShowClaimOwnershipBackButton:e.setShowClaimOwnershipBackButton,configs:e.configs})),[z,D]=(0,r.useState)([]),[Z,T]=(0,r.useState)(""),L=(e,t,l)=>{l===_.Ld.DINING_ONLY?n.push(f.dc[e]+"?resId=".concat(t||"","&serviceType=dining")):l===_.Ld.DELIVERY_ONLY?n.push(f.dc[e]+"?resId=".concat(t||"","&serviceType=delivery")):n.push(f.dc[e]+"?resId=".concat(t||"","&serviceType=delivery_and_dining"))},E=(0,r.useMemo)(()=>""===Z?t:isNaN(Z)?t.filter(function(){var e,t;let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null!==(t=null==l?void 0:null===(e=l.name)||void 0===e?void 0:e.toLowerCase())&&void 0!==t?t:"").includes(Z.toLowerCase())}):t.filter(function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return String(null!==(e=null==t?void 0:t.resId)&&void 0!==e?e:"").includes(Z)}),[Z,l]);if(l)return(0,s.jsx)("div",{className:"flex size-full items-center justify-center",children:(0,s.jsx)(m.Z,{})});if((0,u.Z)(t))return(0,s.jsx)("div",{className:"flex flex-1 items-center justify-center text-lg font-medium text-zGray-800",children:i.Qw});let S=()=>{N.Z.recordClick({component:y.dX.BANNER_CLICK_ACTION,ui_source:y.ez.ACTIVE_RESTAURANT_TAB}),n.push(i.$A),a(!0)};return(0,s.jsxs)("section",{className:"flex flex-col",children:[(0,s.jsx)("div",{className:"sticky left-0 top-0 z-[2] w-full bg-white p-4",children:(0,s.jsx)(v.Z,{placeholder:"Search Res ID/Name",searchString:Z,setSearchString:T})}),(0,s.jsxs)("div",{className:"flex flex-col gap-4 px-4",children:[E.map(e=>{var t,l,n,a;let{name:r="",resId:x="",resListingStatus:m="",resAddress:h="",steps:f=[],message:p=[],isOldDIYRes:v=!1,redirectionCTA:b={},info:N="",kitchenType:y="",isEditAllowed:_=!0,footer:Z={},shouldShowDiningToDeliveryTile:T=!1}=e,E=z.includes(x),S=E?f:null==f?void 0:f.slice(0,2);return(0,s.jsxs)("div",{className:"flex flex-col gap-2 rounded-2xl border border-lavenderMist shadow-[0px_1px_4px_0px_#1C1C1C0F]",children:[(0,s.jsxs)("div",{className:"flex flex-col p-4",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between gap-2",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,s.jsx)("div",{className:"text-base font-medium leading-5 text-zCoal",children:r}),(0,s.jsxs)("div",{className:"text-xs font-medium text-zCoolGray-700",children:["Res ID: ",x]})]}),y&&(0,s.jsx)("div",{className:"flex min-w-max items-center rounded bg-zCoolGray-100 px-2 py-1 text-xs font-medium text-zCoolGray-700",children:y})]}),(0,s.jsx)("div",{className:"pt-2 text-xs font-normal leading-4 text-zCoolGray-500",children:h}),v?(0,s.jsx)("div",{className:"my-2 rounded-xl bg-zBlue-100 p-3 text-sm font-normal",children:N}):null,(0,s.jsx)("div",{className:"flex flex-col gap-6",children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:(0,o.cn)("flex items-center pb-5 pt-4",{hidden:v}),children:[(0,s.jsx)("div",{className:(0,o.cn)("w-max min-w-max rounded  border px-2 py-1 text-xs font-medium lowercase first-letter:capitalize",{"border-zRed-500 bg-zRed-100 text-zRed-500":m===i.ay.REJECTED,"border-zYellow-500 bg-zYellow-100 text-zYellow-500":m===i.ay.UNDER_REVIEW,"border-zGreen-500 bg-zGreen-100 text-zGreen-500":m===i.ay.READY_TO_GO_LIVE,"border-zCoolGray-500 bg-zCoolGray-100 text-zGray-500":m===i.ay.IN_PROGRESS}),children:m}),(0,s.jsx)("div",{className:"h-px w-full bg-zCoolGray-200"})]}),(0,s.jsx)(C.Z,{steps:S,isGlobalEditAllowed:_,handleProceed:L,resId:x,kitchenType:y}),(0,s.jsx)(j,{resId:x,shouldShowDiningToDeliveryTile:T}),!!S.length&&f.length>2&&(0,s.jsxs)("div",{className:"mt-4 flex cursor-pointer items-center gap-1",onClick:()=>{z.includes(x)?D(z.filter(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e!==x})):D([...z,x])},children:[(0,s.jsx)("div",{className:"text-sm font-medium text-blue-600 sm:text-base",children:E?"View less":"View more"}),(0,s.jsx)(d.Z,{unicode:"E930",customClassName:(0,o.cn)("rotate-180 text-sm text-blue-600 transition-all duration-200 sm:text-base",{"rotate-0 transform":E})})]})]})}),(0,u.Z)(b)?null:(0,s.jsx)(g.default,{href:null==b?void 0:b.redirectionURL,children:(0,s.jsx)(c.Z,{className:"p-3",children:null==b?void 0:b.title})})]}),!(0,u.Z)(Z)&&!(0,u.Z)(null==Z?void 0:Z.buttonDetails)&&(0,s.jsx)("div",{className:(0,o.cn)("rounded-b-xl border-t border-zGray-200 p-4 shadow-[0px_-2px_16px_0px_rgba(0,0,0,0.04)]"),children:(0,s.jsx)(c.Z,{className:"rounded-lg border border-zBlue-500 bg-transparent py-2 text-base leading-5 text-zBlue-500",onClick:()=>{L(Z.buttonDetails.stepSlug,x,y)},children:Z.buttonDetails.buttonLabel})}),!(0,u.Z)(Z)&&(null==Z?void 0:null===(t=Z.resCardMessage)||void 0===t?void 0:t.isVisible)&&(0,s.jsxs)("div",{className:"px-3 pb-4 pt-2",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 rounded-xl bg-zBlue-100 p-3",children:[(0,s.jsx)(d.Z,{unicode:"E93B",customClassName:"text-3xl text-zGreen-500"}),(0,s.jsx)("div",{className:"flex flex-col",children:null==Z?void 0:null===(n=Z.resCardMessage)||void 0===n?void 0:null===(l=n.title)||void 0===l?void 0:l.split("\n").map((e,t)=>(0,s.jsx)("div",{className:"font-semibold",children:e},t))})]}),(0,s.jsx)("div",{className:"pt-2 text-xs leading-4 text-zGray-600",children:(0,s.jsx)(w.Z,{message:null==Z?void 0:null===(a=Z.resCardMessage)||void 0===a?void 0:a.subTitle})})]})]},x)}),(null==x?void 0:x.showClaimOwnershipBanner)&&(0,s.jsxs)("section",{className:"mb-4 cursor-pointer rounded-lg border border-zCoolGray-300 p-3 md:flex md:items-center md:justify-between",onClick:S,children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-base font-semibold text-zGray-900",children:i.nL}),(0,s.jsxs)("div",{className:"flex items-center gap-0.5",children:[(0,s.jsx)("p",{className:"text-xs leading-[14px] text-zGray-700",children:i.m8}),(0,s.jsx)(d.Z,{unicode:"E92F",customClassName:"p-0 text-zBlue-500 md:hidden"})]})]}),(0,s.jsx)(c.Z,{className:"hidden w-max rounded-lg border border-zBlue-500 bg-white px-3 text-sm font-normal text-zBlue-500 md:block",onClick:S,children:h.HA})]})]})]})},D=e=>{let{restaurantsData:t,isDataLoading:l=!1,downloadAppBannerData:n={}}=e,{setApplicationSidebarOpen:a,setOpenDiningToDeliveryModal:d}=(0,b.Z)(e=>({setApplicationSidebarOpen:e.setApplicationSidebarOpen,setOpenDiningToDeliveryModal:e.setOpenDiningToDeliveryModal})),[x,u]=(0,r.useState)(""),h=(0,r.useMemo)(()=>""===x?t:isNaN(x)?t.filter(function(){var e,t;let l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null!==(t=null==l?void 0:null===(e=l.name)||void 0===e?void 0:e.toLowerCase())&&void 0!==t?t:"").includes(x.toLowerCase())}):t.filter(function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return String(null!==(e=null==t?void 0:t.resId)&&void 0!==e?e:"").includes(x)}),[x,l]);if(l)return(0,s.jsx)("div",{className:"flex size-full items-center justify-center",children:(0,s.jsx)(m.Z,{})});if((0,o.xb)(t))return(0,s.jsx)("div",{className:"flex flex-1 items-center justify-center text-lg font-medium text-zGray-800",children:i.So});let f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";N.Z.recordClick({ui_source:y.ez.LIVE_RESTAURANT_TAB,component:y._d.VIEW_RESTAURANT_ACTION_CLICK,meta_data:{res_id:t,url:e}}),window.open(e,"_blank")},p=!(0,o.xb)(n),{title:g="",subTitle:w="",buttonLabel:C="",buttonLink:_=""}=n;return(0,s.jsxs)("section",{className:"relative flex flex-col",children:[(0,s.jsxs)("div",{className:"sticky left-0 top-0 z-[2] flex w-full flex-col gap-4 bg-white px-4 py-4",children:[p&&(0,s.jsxs)("div",{className:"flex w-full justify-between rounded-lg border border-zBlue-200 bg-zBlue-100 px-6 py-5",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("div",{className:"text-base font-semibold text-zGray-900",children:g}),(0,s.jsx)("div",{className:"text-xs font-normal text-zGray-700",children:w})]}),(0,s.jsx)(c.Z,{className:"w-fit border border-zBlue-500 p-2 text-base font-normal text-zBlue-500",variant:"outline",onClick:()=>f(_),children:C})]}),(0,s.jsx)(v.Z,{placeholder:"Search Res ID/Name",searchString:x,setSearchString:u})]}),(0,s.jsx)("div",{className:"flex flex-col gap-6 px-4 pb-6",children:h.map(e=>{let{name:t="",resId:l="",resAddress:n="",steps:a=[],kitchenType:r="",shouldShowDiningToDeliveryTile:i=!1,footer:d={}}=e;return(0,s.jsx)("div",{className:"rounded-2xl border border-lavenderMist bg-white py-4 shadow-[0px_4px_40px_0px_#0000000A]",children:(0,s.jsxs)("div",{className:"flex flex-col gap-2 px-3",children:[(0,s.jsxs)("div",{className:"flex justify-between gap-2",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-0.5",children:[(0,s.jsx)("div",{className:"text-base font-medium leading-5 text-zCoal",children:t}),(0,s.jsxs)("div",{className:"text-xs font-medium text-zCoolGray-700",children:["Res ID: ",l]})]}),r&&(0,s.jsx)("div",{className:"flex w-max items-center rounded bg-zCoolGray-100 px-2 py-1 text-xs font-medium text-zCoolGray-700",children:r})]}),(0,s.jsx)("div",{className:"text-xs font-normal leading-4 text-zCoolGray-500",children:n}),(0,s.jsx)(j,{shouldShowDiningToDeliveryTile:i,resId:l}),!(0,o.xb)(d)&&!(0,o.xb)(null==d?void 0:d.buttonDetails)&&(0,s.jsx)("div",{children:(0,s.jsx)(c.Z,{className:"rounded-lg border border-zBlue-500 bg-transparent py-2 text-base leading-5 text-zBlue-500",onClick:()=>f(d.buttonDetails.redirectionURL,l),children:d.buttonDetails.buttonLabel})})]})},l)})})]})},Z=l(3591);let T=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",{data:t}=await (0,Z.W)("getMyRestaurants",{query:{type:e},headers:{"x-zomato-csrft":window.csrft,"x-client-id":"zomato_web_merchant"}});return t},L=async(e,t)=>{let{data:l}=await (0,Z.W)("changeRestaurantServiceType",{body:{resId:e,kitchenTypes:[t]},headers:{"x-zomato-csrft":window.csrft,"x-client-id":"zomato_web_merchant"}});return l};var E=l(6124),S=l(9544),I=l(5334),A=l(4887),k=function(e){let{children:t,wrapperId:l="react-portal-wrapper"}=e,[s,n]=(0,r.useState)(null);return((0,r.useLayoutEffect)(()=>{let e=document.getElementById(l),t=!1;return e||(t=!0,e=function(e){let t=document.createElement("div");return t.setAttribute("id",e),document.body.appendChild(t),t}(l)),n(e),()=>{t&&e.parentNode&&e.parentNode.removeChild(e)}},[l]),null===s)?null:(0,A.createPortal)(t,s)},R=l(5741),O=l(2015),G=()=>{let e=(0,p.useRouter)(),{openDiningToDeliveryModal:t,setOpenDiningToDeliveryModal:l,setIsDiningToDeliveryLoading:a}=(0,b.Z)(e=>({openDiningToDeliveryModal:e.openDiningToDeliveryModal,setOpenDiningToDeliveryModal:e.setOpenDiningToDeliveryModal,setIsDiningToDeliveryLoading:e.setIsDiningToDeliveryLoading})),{metadata:r}=t,o=async()=>{try{a(!0);let t=await L(r.resId,"delivery");(null==t?void 0:t.status)&&e.push("/mx-onboarding/step2?serviceType=delivery_and_dining"+(r.resId?"&resId=".concat(r.resId):""))}catch(e){n.Am.error("Error while changing service type")}finally{l({value:!1,metada:{}})}};return(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4 p-4",children:[(0,s.jsx)("div",{className:"rounded-full bg-[#e5f3f3] p-4",children:(0,s.jsx)(d.Z,{unicode:"E879",customClassName:"text-4xl text-[#0A757C]"})}),(0,s.jsx)("div",{className:"text-center text-base font-semibold leading-5 text-zCoal",children:i.Hy}),(0,s.jsx)("div",{className:"text-center text-sm font-normal leading-5 text-zCoolGray-600",children:i.Kg}),(0,s.jsx)(c.Z,{className:"w-full p-3 text-[13px] font-medium",onClick:o,children:i.BD}),(0,s.jsx)(c.Z,{className:"w-full text-[13px] font-medium text-zBlue-500",variant:"outline",onClick:()=>l({value:!1,metada:{}}),children:i.W6})]})},B=e=>{var t,l,u,f;let{showClose:v=!1,showBack:g=!0,onClose:j=o.ZT}=e,{isMobileFlowEnabled:w,isWebFlowEnabled:C}=(0,I.Z)(),{setServiceSelectionModal:Z,isDiningToDeliveryLoading:L,openDiningToDeliveryModal:A,setOpenDiningToDeliveryModal:B,setApplicationSidebarOpen:M}=(0,b.Z)(e=>({showWebDashboard:e.showWebDashboard,setServiceSelectionModal:e.setServiceSelectionModal,isDiningToDeliveryLoading:e.isDiningToDeliveryLoading,openDiningToDeliveryModal:e.openDiningToDeliveryModal,setOpenDiningToDeliveryModal:e.setOpenDiningToDeliveryModal,setApplicationSidebarOpen:e.setApplicationSidebarOpen})),[U,Y]=(0,r.useState)(i.YQ.ACTIVE_REQUEST),[V,F]=(0,r.useState)(!0),[W,P]=(0,r.useState)(!1),[H,Q]=(0,r.useState)({}),K=(0,p.useRouter)(),[q,X]=(0,r.useState)(null),{handleLoginClick:J}=(0,S.Z)(),$=()=>{P(!1),F(!0),T(U).then(e=>{Q(e)}).catch(e=>{var t,l,s,a,r;(null==e?void 0:null===(l=e.response)||void 0===l?void 0:null===(t=l.data)||void 0===t?void 0:t.code)===_.HY&&(X(null!==(r=null==e?void 0:null===(a=e.response)||void 0===a?void 0:null===(s=a.data)||void 0===s?void 0:s.code)&&void 0!==r?r:_.HY),n.Am.error(h.fO),J({successCallBack:()=>{K.push("/mx-onboarding/step0")}})),P(!0)}).finally(()=>{F(!1)})};if((0,r.useEffect)(()=>{N.Z.recordImpression({component:y.ez.MY_RESTAURANT_PAGE,meta_data:{tab:U}}),U&&$()},[U]),W)return q===_.HY?(0,s.jsx)(E.Z,{ctaText:"Login",mainText:h.fO,handleClick:J}):(0,s.jsx)(E.Z,{mainText:i.Qw,handleClick:()=>K.push("/")});if(L)return(0,s.jsx)("div",{className:"flex size-full items-center justify-center",children:(0,s.jsx)(m.Z,{})});let ee=()=>{B({value:!1,metadata:{}}),M(!0)};return(0,s.jsxs)(a.T3,{children:[(0,s.jsxs)(a.mr,{className:"flex w-full flex-col gap-7 self-start bg-white pb-0",children:[(0,s.jsxs)("div",{className:(0,o.cn)("flex gap-2 self-start",{"w-full flex-row-reverse justify-between":v}),children:[g&&(0,s.jsx)("div",{onClick:()=>K.push("/"),children:(0,s.jsx)(d.Z,{unicode:"E823"})}),v&&(0,s.jsx)("div",{onClick:j,className:"cursor-pointer",children:(0,s.jsx)(d.Z,{unicode:"E8A4",customClassName:"text-xs"})}),(0,s.jsx)("div",{className:"flex-1 border-b-0",children:"Your restaurant applications"})]}),(0,s.jsx)("div",{className:"flex w-full justify-between",children:i.G7.map(e=>{var t,l;let{label:n,value:a}=e;return(0,s.jsxs)("div",{className:(0,o.cn)("flex flex-1 cursor-pointer items-center justify-center text-sm font-semibold leading-4",{"border-b-2 border-zBlue-500 pb-4 text-zBlue-500":U===a,"border-b-2 border-transparent pb-4":U!==a,"font-normal":U!==a}),onClick:()=>Y(a),children:[n,(0,s.jsx)("div",{className:"ml-1",children:"(".concat(n===i._h?null!==(t=null==H?void 0:H.activeRequestsCount)&&void 0!==t?t:0:null!==(l=H.liveRestaurantsCount)&&void 0!==l?l:0,")")})]},a)})})]}),(0,s.jsxs)(a.xV,{className:"flex flex-col gap-6 bg-white",children:[U===i.YQ.ACTIVE_REQUEST&&(0,s.jsx)(z,{restaurantsData:null!==(l=null==H?void 0:H.restaurants)&&void 0!==l?l:[],isDataLoading:V}),U===i.YQ.LIVE&&(0,s.jsx)(D,{restaurantsData:null!==(u=null==H?void 0:H.restaurants)&&void 0!==u?u:[],isDataLoading:V,downloadAppBannerData:null==H?void 0:H.downloadBanner})]}),!V&&(0,s.jsxs)("div",{className:"border-none bg-white p-0 shadow-none",children:[U!==i.YQ.LIVE&&(null==H?void 0:H.footer)&&(0,s.jsxs)("div",{className:"flex items-center justify-between gap-2 rounded-t-3xl bg-zTeal-100 px-4 py-3",onClick:()=>Y(i.YQ.LIVE),children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"relative size-fit",children:(0,s.jsx)(x.default,{className:"size-7 object-cover",width:28,height:28,src:"https://b.zmtcdn.com/data/o2_assets/4f8dd31d2c9979d3709251ab8df2d14a1714997829.png"})}),(0,s.jsx)("div",{className:"text-sm font-normal leading-5 text-zCoolGray-900",children:null!==(f=null==H?void 0:null===(t=H.footer)||void 0===t?void 0:t.text)&&void 0!==f?f:""})]}),(0,s.jsx)(d.Z,{unicode:"E822"})]}),(0,s.jsx)("div",{className:"p-4",onClick:()=>{w?K.push("/mx-onboarding/step0"):Z(!0)},children:(0,s.jsx)(c.Z,{className:"p-3",children:"Start new registration"})})]}),C&&A.value&&(0,s.jsx)(k,{wrapperId:"modal-container",children:(0,s.jsx)(R.Z,{outerContainerClassName:"items-center inset-0 items-center justify-center",innerContainerClassName:"rounded-3xl h-max md:w-[500px] rounded-lg overflow-hidden",open:A.value,onClose:ee,children:(0,s.jsx)(a.T3,{children:(0,s.jsx)(a.xV,{children:(0,s.jsx)(G,{})})})})}),w&&A.value&&(0,s.jsx)(O.Z,{isOpen:A.value,onClose:ee,children:(0,s.jsx)(G,{})})]})}},2758:function(e,t,l){var s=l(2115);let n=(0,l(2020).Ue)(e=>({userData:{},isUserLoggedIn:!1,userLoginLoading:!0,setUserLoggedIn:t=>e((0,s.Uy)(e=>{e.userData=t,e.isUserLoggedIn=!0,e.userLoginLoading=!1})),setUserLoginLoading:()=>e((0,s.Uy)(e=>{e.userLoginLoading=!0})),setUserLoggedOut:()=>e((0,s.Uy)(e=>{e.userData={},e.isUserLoggedIn=!1}))}));t.Z=n}}]);